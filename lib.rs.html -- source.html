<!DOCTYPE html>
<!-- saved from url=(0080)https://docs.rs/reset-router-macros/0.7.0/src/reset_router_macros/lib.rs.html#14 -->
<html lang="en" data-theme="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source to the Rust file `/home/cratesfyi/.cargo/registry/src/github.com-1ecc6299db9ec823/reset-router-macros-0.7.0/src/lib.rs`."><meta name="keywords" content="rust, rustlang, rust-lang"><title>lib.rs.html -- source</title><link rel="stylesheet" type="text/css" href="./lib.rs.html -- source_files/normalize-20190911-1.39.0-nightly-f0b58fcf0.css"><link rel="stylesheet" href="./lib.rs.html -- source_files/vendored.css" media="all">

<link rel="stylesheet" type="text/css" href="./lib.rs.html -- source_files/rustdoc-20190911-1.39.0-nightly-f0b58fcf0.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="./lib.rs.html -- source_files/dark-20190911-1.39.0-nightly-f0b58fcf0.css"><link rel="stylesheet" type="text/css" href="./lib.rs.html -- source_files/dark-20190911-1.39.0-nightly-f0b58fcf0.css" id="themeStyle"><script src="./lib.rs.html -- source_files/storage-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script><noscript><link rel="stylesheet" href="/noscript-20190911-1.39.0-nightly-f0b58fcf0.css"></noscript><link rel="shortcut icon" href="https://docs.rs/favicon-20190911-1.39.0-nightly-f0b58fcf0.ico"><style type="text/css">#crate-search{background-image:url("/down-arrow-20190911-1.39.0-nightly-f0b58fcf0.svg");}</style><link rel="stylesheet" href="./lib.rs.html -- source_files/rustdoc.css" media="all">

        <link rel="search" href="https://docs.rs/-/static/opensearch.xml" type="application/opensearchdescription+xml" title="Docs.rs">

        <link rel="canonical" href="https://docs.rs/reset-router-macros/latest/src/reset_router_macros/lib.rs.html">

        <script type="text/javascript">function applyTheme(theme) {
  document.documentElement.dataset.theme = theme;
}

window.addEventListener('storage', function (ev) {
  if (ev.key === 'rustdoc-theme') {
    applyTheme(ev.newValue);
  }
});

// see ./storage-change-detection.html for details
window.addEventListener('message', function (ev) {
  if (ev.data && ev.data.storage && ev.data.storage.key === 'rustdoc-theme') {
    applyTheme(ev.data.storage.value);
  }
});

applyTheme(window.localStorage.getItem('rustdoc-theme'));
</script>
</head><div style="display: none; position: fixed; width: 100%; height: 100%; z-index: 1;"></div><body class="rustdoc-page">
<div class="nav-container">
    <div class="container">
        <div class="pure-menu pure-menu-horizontal" role="navigation" aria-label="Main navigation">
            <form action="https://docs.rs/releases/search" method="GET" class="landing-search-form-nav  ">

                
                <a href="https://docs.rs/" class="pure-menu-heading pure-menu-link docsrs-logo" aria-label="Docs.rs">
                    <span title="Docs.rs"><span class="fa-svg " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M290.8 48.6l78.4 29.7L288 109.5 206.8 78.3l78.4-29.7c1.8-.7 3.8-.7 5.7 0zM136 92.5V204.7c-1.3 .4-2.6 .8-3.9 1.3l-96 36.4C14.4 250.6 0 271.5 0 294.7V413.9c0 22.2 13.1 42.3 33.5 51.3l96 42.2c14.4 6.3 30.7 6.3 45.1 0L288 457.5l113.5 49.9c14.4 6.3 30.7 6.3 45.1 0l96-42.2c20.3-8.9 33.5-29.1 33.5-51.3V294.7c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3V92.5c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-12.8-4.8-26.9-4.8-39.7 0l-96 36.4C150.4 48.4 136 69.3 136 92.5zM392 210.6l-82.4 31.2V152.6L392 121v89.6zM154.8 250.9l78.4 29.7L152 311.7 70.8 280.6l78.4-29.7c1.8-.7 3.8-.7 5.7 0zm18.8 204.4V354.8L256 323.2v95.9l-82.4 36.2zM421.2 250.9c1.8-.7 3.8-.7 5.7 0l78.4 29.7L424 311.7l-81.2-31.1 78.4-29.7zM523.2 421.2l-77.6 34.1V354.8L528 323.2v90.7c0 3.2-1.9 6-4.8 7.3z"></path></svg></span></span>
                    <span class="title">Docs.rs</span>
                </a>
<ul class="pure-menu-list"><li class="pure-menu-item pure-menu-has-children">
            <a href="https://docs.rs/reset-router-macros/0.7.0/src/reset_router_macros/lib.rs.html#" class="pure-menu-link crate-name" title="Proc macros for reset-router" aria-haspopup="menu">
                <span class="fa-svg " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M234.5 5.7c13.9-5 29.1-5 43.1 0l192 68.6C495 83.4 512 107.5 512 134.6V377.4c0 27-17 51.2-42.5 60.3l-192 68.6c-13.9 5-29.1 5-43.1 0l-192-68.6C17 428.6 0 404.5 0 377.4V134.6c0-27 17-51.2 42.5-60.3l192-68.6zM256 66L82.3 128 256 190l173.7-62L256 66zm32 368.6l160-57.1v-188L288 246.6v188z"></path></svg></span>
                <span class="title">reset-router-macros-0.7.0</span>
            </a>

            
            <div class="pure-menu-children package-details-menu" role="menu">
                
                <ul class="pure-menu-list menu-item-divided">
                    <li class="pure-menu-heading" id="crate-title">
                        reset-router-macros 0.7.0
                        <span id="clipboard" class="fa-svg fa-svg-fw" title="Copy crate name and version information"><svg width="24" height="25" viewBox="0 0 24 25" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-label="Copy to clipboard"><path d="M18 20h2v3c0 1-1 2-2 2H2c-.998 0-2-1-2-2V5c0-.911.755-1.667 1.667-1.667h5A3.323 3.323 0 0110 0a3.323 3.323 0 013.333 3.333h5C19.245 3.333 20 4.09 20 5v8.333h-2V9H2v14h16v-3zM3 7h14c0-.911-.793-1.667-1.75-1.667H13.5c-.957 0-1.75-.755-1.75-1.666C11.75 2.755 10.957 2 10 2s-1.75.755-1.75 1.667c0 .911-.793 1.666-1.75 1.666H4.75C3.793 5.333 3 6.09 3 7z"></path><path d="M4 19h6v2H4zM12 11H4v2h8zM4 17h4v-2H4zM15 15v-3l-4.5 4.5L15 21v-3l8.027-.032L23 15z"></path></svg></span>
                    </li><li class="pure-menu-item">
                        <a href="https://docs.rs/crate/reset-router-macros/0.7.0" class="pure-menu-link description" title="See reset-router-macros in docs.rs">
                            <span class="fa-svg fa-svg-fw " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M234.5 5.7c13.9-5 29.1-5 43.1 0l192 68.6C495 83.4 512 107.5 512 134.6V377.4c0 27-17 51.2-42.5 60.3l-192 68.6c-13.9 5-29.1 5-43.1 0l-192-68.6C17 428.6 0 404.5 0 377.4V134.6c0-27 17-51.2 42.5-60.3l192-68.6zM256 66L82.3 128 256 190l173.7-62L256 66zm32 368.6l160-57.1v-188L288 246.6v188z"></path></svg></span> Docs.rs crate page
                        </a>
                    </li>

                    <li class="pure-menu-item">
                        <a href="https://docs.rs/crate/reset-router-macros/0.7.0" class="pure-menu-link">
                            <span class="fa-svg fa-svg-fw " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M117.9 62.4c-16.8-5.6-25.8-23.7-20.2-40.5s23.7-25.8 40.5-20.2l113 37.7C265 15.8 290.7 0 320 0c44.2 0 80 35.8 80 80c0 3-.2 5.9-.5 8.8l122.6 40.9c16.8 5.6 25.8 23.7 20.2 40.5s-23.7 25.8-40.5 20.2L366.4 145.2c-4.5 3.2-9.3 5.9-14.4 8.2V480c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32s14.3-32 32-32H288V153.3c-21-9.2-37.2-27-44.2-49l-125.9-42zm396.3 211c-.4-.8-1.3-1.3-2.2-1.3s-1.7 .5-2.2 1.3L435.1 416H588.9L514.2 273.3zM512 224c18.8 0 36 10.4 44.7 27l77.8 148.5c3.1 5.8 6.1 14 5.5 23.8c-.7 12.1-4.8 35.2-24.8 55.1C594.9 498.6 562.2 512 512 512s-82.9-13.4-103.2-33.5c-20-20-24.2-43-24.8-55.1c-.6-9.8 2.5-18 5.5-23.8L467.3 251c8.7-16.6 25.9-27 44.7-27zM128 144c-.9 0-1.7 .5-2.2 1.3L51.1 288H204.9L130.2 145.3c-.4-.8-1.3-1.3-2.2-1.3zm44.7-21l77.8 148.5c3.1 5.8 6.1 14 5.5 23.8c-.7 12.1-4.8 35.2-24.8 55.1C210.9 370.6 178.2 384 128 384s-82.9-13.4-103.2-33.5c-20-20-24.2-43-24.8-55.1c-.6-9.8 2.5-18 5.5-23.8L83.3 123C92 106.4 109.2 96 128 96s36 10.4 44.7 27z"></path></svg></span> MIT
                        </a>
                    </li>
                </ul>

                <div class="pure-g menu-item-divided">
                    <div class="pure-u-1-2 right-border">
                        <ul class="pure-menu-list">
                            <li class="pure-menu-heading">Links</li>

                            <li class="pure-menu-item">
                                    <a href="https://github.com/kardeiz/reset-router" class="pure-menu-link">
                                        <span class="fa-svg fa-svg-fw " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M80 104c13.3 0 24-10.7 24-24s-10.7-24-24-24S56 66.7 56 80s10.7 24 24 24zm80-24c0 32.8-19.7 61-48 73.3v87.8c18.8-10.9 40.7-17.1 64-17.1h96c35.3 0 64-28.7 64-64v-6.7C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V160c0 70.7-57.3 128-128 128H176c-35.3 0-64 28.7-64 64v6.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V352 153.3C19.7 141 0 112.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm232 0c0-13.3-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24s24-10.7 24-24zM80 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"></path></svg></span> Repository
                                    </a>
                                </li><li class="pure-menu-item">
                                <a href="https://crates.io/crates/reset-router-macros" class="pure-menu-link" title="See reset-router-macros in crates.io">
                                    <span class="fa-svg fa-svg-fw " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M234.5 5.7c13.9-5 29.1-5 43.1 0l192 68.6C495 83.4 512 107.5 512 134.6V377.4c0 27-17 51.2-42.5 60.3l-192 68.6c-13.9 5-29.1 5-43.1 0l-192-68.6C17 428.6 0 404.5 0 377.4V134.6c0-27 17-51.2 42.5-60.3l192-68.6zM256 66L82.3 128 256 190l173.7-62L256 66zm32 368.6l160-57.1v-188L288 246.6v188z"></path></svg></span> Crates.io
                                </a>
                            </li>

                            
                            <li class="pure-menu-item">
                                <a href="https://docs.rs/crate/reset-router-macros/0.7.0/source/" title="Browse source of reset-router-macros-0.7.0" class="pure-menu-link">
                                    <span class="fa-svg fa-svg-fw " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M88.7 223.8L0 375.8V96C0 60.7 28.7 32 64 32H181.5c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7H416c35.3 0 64 28.7 64 64v32H144c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224H544c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480H32c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"></path></svg></span> Source
                                </a>
                            </li>
                        </ul>
                    </div>

                    
                    <div class="pure-u-1-2">
                        <ul class="pure-menu-list">
                            <li class="pure-menu-heading">Owners</li><li class="pure-menu-item">
                                    <a href="https://crates.io/users/kardeiz" class="pure-menu-link">
                                        <span class="fa-svg fa-svg-fw " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"></path></svg></span> kardeiz
                                    </a>
                                </li></ul>
                    </div>
                </div>

                <div class="pure-g menu-item-divided">
                    <div class="pure-u-1-2 right-border">
                        <ul class="pure-menu-list">
                            <li class="pure-menu-heading">Dependencies</li>

                            
                            <li class="pure-menu-item">
                                <div class="pure-menu pure-menu-scrollable sub-menu" tabindex="-1">
                                    <ul class="pure-menu-list"><li class="pure-menu-item">
                                                <a href="https://docs.rs/proc-macro-hack/%5E0.5.2" class="pure-menu-link">
                                                    proc-macro-hack ^0.5.2
                                                    <i class="dependencies normal">normal</i>
                                                </a>
                                            </li><li class="pure-menu-item">
                                                <a href="https://docs.rs/proc-macro2/%5E0.4.24" class="pure-menu-link">
                                                    proc-macro2 ^0.4.24
                                                    <i class="dependencies normal">normal</i>
                                                </a>
                                            </li><li class="pure-menu-item">
                                                <a href="https://docs.rs/quote/%5E0.6.10" class="pure-menu-link">
                                                    quote ^0.6.10
                                                    <i class="dependencies normal">normal</i>
                                                </a>
                                            </li><li class="pure-menu-item">
                                                <a href="https://docs.rs/syn/%5E0.15.18" class="pure-menu-link">
                                                    syn ^0.15.18
                                                    <i class="dependencies normal">normal</i>
                                                </a>
                                            </li></ul>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div class="pure-u-1-2">
                        <ul class="pure-menu-list">
                            <li class="pure-menu-heading">Versions</li>

                            <li class="pure-menu-item">
                                <div class="pure-menu pure-menu-scrollable sub-menu" tabindex="-1">
                                    <ul class="pure-menu-list">
                                        
                                        
        
        
        <li class="pure-menu-item">
            <a href="https://docs.rs/crate/reset-router-macros/0.7.0/target-redirect/src/reset_router_macros/lib.rs.html" rel="nofollow" class="pure-menu-link" data-fragment="retain">
                
                0.7.0
            </a>
        </li>
        
        
        <li class="pure-menu-item">
            <a href="https://docs.rs/crate/reset-router-macros/0.6.5/target-redirect/src/reset_router_macros/lib.rs.html" rel="nofollow" class="pure-menu-link" data-fragment="retain">
                
                0.6.5
            </a>
        </li>
        
        
        <li class="pure-menu-item">
            <a href="https://docs.rs/crate/reset-router-macros/0.6.3/target-redirect/src/reset_router_macros/lib.rs.html" rel="nofollow" class="pure-menu-link" data-fragment="retain">
                
                0.6.3
            </a>
        </li>
        
        
        <li class="pure-menu-item">
            <a href="https://docs.rs/crate/reset-router-macros/0.6.2/target-redirect/src/reset_router_macros/lib.rs.html" rel="nofollow" class="pure-menu-link" data-fragment="retain">
                
                0.6.2
            </a>
        </li>
        
        
        <li class="pure-menu-item">
            <a href="https://docs.rs/crate/reset-router-macros/0.6.1/target-redirect/src/reset_router_macros/lib.rs.html" rel="nofollow" class="pure-menu-link" data-fragment="retain">
                
                0.6.1
            </a>
        </li>
        
        
        <li class="pure-menu-item">
            <a href="https://docs.rs/crate/reset-router-macros/0.6.0/target-redirect/src/reset_router_macros/lib.rs.html" rel="nofollow" class="pure-menu-link" data-fragment="retain">
                
                0.6.0
            </a>
        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div></div>
        </li>
</ul><div class="spacer"></div>
                
                <ul class="pure-menu-list">
                    <li class="pure-menu-item pure-menu-has-children">
                        <a href="https://docs.rs/reset-router-macros/0.7.0/src/reset_router_macros/lib.rs.html#" class="pure-menu-link" aria-haspopup="menu">
                            <span title="Releases"><span class="fa-svg " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M272 96c-78.6 0-145.1 51.5-167.7 122.5c33.6-17 71.5-26.5 111.7-26.5h88c8.8 0 16 7.2 16 16s-7.2 16-16 16H288 216s0 0 0 0c-16.6 0-32.7 1.9-48.3 5.4c-25.9 5.9-49.9 16.4-71.4 30.7c0 0 0 0 0 0C38.3 298.8 0 364.9 0 440v16c0 13.3 10.7 24 24 24s24-10.7 24-24V440c0-48.7 20.7-92.5 53.8-123.2C121.6 392.3 190.3 448 272 448l1 0c132.1-.7 239-130.9 239-291.4c0-42.6-7.5-83.1-21.1-119.6c-2.6-6.9-12.7-6.6-16.2-.1C455.9 72.1 418.7 96 376 96L272 96z"></path></svg></span></span>
                            <span class="title">Releases</span>
                        </a>

                        <ul class="pure-menu-children" role="menu">
                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://docs.rs/releases">
            All Releases
        </a>
    </li>

                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://docs.rs/releases/stars">
            Releases by Stars
        </a>
    </li>

                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://docs.rs/releases/recent-failures">
            Recent Build Failures
        </a>
    </li>

                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://docs.rs/releases/failures">
            Build Failures by Stars
        </a>
    </li>

                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://docs.rs/releases/activity">
            Release Activity
        </a>
    </li>

                        </ul>
                    </li><li class="pure-menu-item pure-menu-has-children">
                        <a href="https://docs.rs/reset-router-macros/0.7.0/src/reset_router_macros/lib.rs.html#" class="pure-menu-link" aria-label="Rust" aria-haspopup="menu">Rust</a>
                        <ul class="pure-menu-children" role="menu">
                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://www.rust-lang.org/" target="_blank">
            Rust website
        </a>
    </li>

                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://doc.rust-lang.org/book/" target="_blank">
            The Book
        </a>
    </li>


                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://doc.rust-lang.org/std/" target="_blank">
            Standard Library API Reference
        </a>
    </li>


                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://doc.rust-lang.org/rust-by-example/" target="_blank">
            Rust by Example
        </a>
    </li>


                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="http://doc.crates.io/guide.html" target="_blank">
            The Cargo Guide
        </a>
    </li>


                            
    <li class="pure-menu-item">
        <a class="pure-menu-link " href="https://doc.rust-lang.org/nightly/clippy" target="_blank">
            Clippy Documentation
        </a>
    </li>

                        </ul>
                    </li>
                </ul>
                
                <div id="search-input-nav">
                    <label for="nav-search">
                        <span class="fa-svg " aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"></path></svg></span>
                    </label>

                    
                    
                    <input id="nav-search" name="query" type="text" aria-label="Find crate by search query" tabindex="-1" placeholder="Find crate">
                </div>
            </form>
        </div>
    </div>
</div>
<div class="rustdoc source container-rustdoc" id="rustdoc_body_wrapper" tabindex="-1"><script type="text/javascript" src="./lib.rs.html -- source_files/menu.js.下载"></script>
<script type="text/javascript" src="./lib.rs.html -- source_files/index.js.下载"></script>

<iframe src="./lib.rs.html -- source_files/storage-change-detection.html" width="0" height="0" style="display: none"></iframe><div class="docs-rs-footer">
    <a href="https://docs.rs/about">About docs.rs</a>
    <a href="https://foundation.rust-lang.org/policies/privacy-policy/#docs.rs">Privacy policy</a>
    <a href="https://docs.rs/releases/queue">Build queue</a>
</div>
<!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">☰</div><a href="https://docs.rs/reset-router-macros/0.7.0/reset_router_macros/index.html"><div class="logo-container"><img src="./lib.rs.html -- source_files/rust-logo-20190911-1.39.0-nightly-f0b58fcf0.png" alt="logo"></div></a></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="./lib.rs.html -- source_files/brush-20190911-1.39.0-nightly-f0b58fcf0.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"><button>dark</button><button>light</button></div></div><script src="./lib.rs.html -- source_files/theme-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="https://docs.rs/reset-router-macros/0.7.0/settings.html"><img src="./lib.rs.html -- source_files/wheel-20190911-1.39.0-nightly-f0b58fcf0.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><div id="source-sidebar" style="left: -300px;"><div class="title">Files</div><div class="name expand">reset_router_macros</div><div class="children"><div class="folders"></div><div class="files"><a href="https://docs.rs/reset-router-macros/0.7.0/src/reset_router_macros/lib.rs.html" class="selected">lib.rs</a></div></div></div><div id="sidebar-toggle" style="left: 0px;"><div style="position: relative;"><div style="padding-top: 3px;">&gt;</div></div></div><pre class="line-numbers"><span id="1">  1</span>
<span id="2">  2</span>
<span id="3">  3</span>
<span id="4">  4</span>
<span id="5">  5</span>
<span id="6">  6</span>
<span id="7">  7</span>
<span id="8">  8</span>
<span id="9">  9</span>
<span id="10"> 10</span>
<span id="11"> 11</span>
<span id="12"> 12</span>
<span id="13"> 13</span>
<span id="14" class="line-highlighted"> 14</span>
<span id="15"> 15</span>
<span id="16"> 16</span>
<span id="17"> 17</span>
<span id="18"> 18</span>
<span id="19"> 19</span>
<span id="20"> 20</span>
<span id="21"> 21</span>
<span id="22"> 22</span>
<span id="23"> 23</span>
<span id="24"> 24</span>
<span id="25"> 25</span>
<span id="26"> 26</span>
<span id="27"> 27</span>
<span id="28"> 28</span>
<span id="29"> 29</span>
<span id="30"> 30</span>
<span id="31"> 31</span>
<span id="32"> 32</span>
<span id="33"> 33</span>
<span id="34"> 34</span>
<span id="35"> 35</span>
<span id="36"> 36</span>
<span id="37"> 37</span>
<span id="38"> 38</span>
<span id="39"> 39</span>
<span id="40"> 40</span>
<span id="41"> 41</span>
<span id="42"> 42</span>
<span id="43"> 43</span>
<span id="44"> 44</span>
<span id="45"> 45</span>
<span id="46"> 46</span>
<span id="47"> 47</span>
<span id="48"> 48</span>
<span id="49"> 49</span>
<span id="50"> 50</span>
<span id="51"> 51</span>
<span id="52"> 52</span>
<span id="53"> 53</span>
<span id="54"> 54</span>
<span id="55"> 55</span>
<span id="56"> 56</span>
<span id="57"> 57</span>
<span id="58"> 58</span>
<span id="59"> 59</span>
<span id="60"> 60</span>
<span id="61"> 61</span>
<span id="62"> 62</span>
<span id="63"> 63</span>
<span id="64"> 64</span>
<span id="65"> 65</span>
<span id="66"> 66</span>
<span id="67"> 67</span>
<span id="68"> 68</span>
<span id="69"> 69</span>
<span id="70"> 70</span>
<span id="71"> 71</span>
<span id="72"> 72</span>
<span id="73"> 73</span>
<span id="74"> 74</span>
<span id="75"> 75</span>
<span id="76"> 76</span>
<span id="77"> 77</span>
<span id="78"> 78</span>
<span id="79"> 79</span>
<span id="80"> 80</span>
<span id="81"> 81</span>
<span id="82"> 82</span>
<span id="83"> 83</span>
<span id="84"> 84</span>
<span id="85"> 85</span>
<span id="86"> 86</span>
<span id="87"> 87</span>
<span id="88"> 88</span>
<span id="89"> 89</span>
<span id="90"> 90</span>
<span id="91"> 91</span>
<span id="92"> 92</span>
<span id="93"> 93</span>
<span id="94"> 94</span>
<span id="95"> 95</span>
<span id="96"> 96</span>
<span id="97"> 97</span>
<span id="98"> 98</span>
<span id="99"> 99</span>
<span id="100">100</span>
<span id="101">101</span>
<span id="102">102</span>
<span id="103">103</span>
<span id="104">104</span>
<span id="105">105</span>
<span id="106">106</span>
<span id="107">107</span>
<span id="108">108</span>
<span id="109">109</span>
<span id="110">110</span>
<span id="111">111</span>
<span id="112">112</span>
<span id="113">113</span>
<span id="114">114</span>
<span id="115">115</span>
<span id="116">116</span>
<span id="117">117</span>
<span id="118">118</span>
<span id="119">119</span>
<span id="120">120</span>
<span id="121">121</span>
<span id="122">122</span>
<span id="123">123</span>
<span id="124">124</span>
<span id="125">125</span>
<span id="126">126</span>
<span id="127">127</span>
<span id="128">128</span>
<span id="129">129</span>
<span id="130">130</span>
<span id="131">131</span>
<span id="132">132</span>
<span id="133">133</span>
<span id="134">134</span>
<span id="135">135</span>
<span id="136">136</span>
<span id="137">137</span>
<span id="138">138</span>
<span id="139">139</span>
<span id="140">140</span>
<span id="141">141</span>
<span id="142">142</span>
<span id="143">143</span>
<span id="144">144</span>
<span id="145">145</span>
<span id="146">146</span>
<span id="147">147</span>
<span id="148">148</span>
<span id="149">149</span>
<span id="150">150</span>
<span id="151">151</span>
<span id="152">152</span>
<span id="153">153</span>
<span id="154">154</span>
<span id="155">155</span>
<span id="156">156</span>
<span id="157">157</span>
<span id="158">158</span>
<span id="159">159</span>
<span id="160">160</span>
<span id="161">161</span>
<span id="162">162</span>
<span id="163">163</span>
<span id="164">164</span>
<span id="165">165</span>
<span id="166">166</span>
<span id="167">167</span>
<span id="168">168</span>
<span id="169">169</span>
<span id="170">170</span>
<span id="171">171</span>
<span id="172">172</span>
<span id="173">173</span>
<span id="174">174</span>
<span id="175">175</span>
<span id="176">176</span>
<span id="177">177</span>
<span id="178">178</span>
<span id="179">179</span>
<span id="180">180</span>
<span id="181">181</span>
<span id="182">182</span>
<span id="183">183</span>
<span id="184">184</span>
<span id="185">185</span>
<span id="186">186</span>
<span id="187">187</span>
<span id="188">188</span>
<span id="189">189</span>
<span id="190">190</span>
<span id="191">191</span>
<span id="192">192</span>
<span id="193">193</span>
<span id="194">194</span>
<span id="195">195</span>
<span id="196">196</span>
<span id="197">197</span>
<span id="198">198</span>
<span id="199">199</span>
<span id="200">200</span>
<span id="201">201</span>
<span id="202">202</span>
<span id="203">203</span>
<span id="204">204</span>
<span id="205">205</span>
<span id="206">206</span>
<span id="207">207</span>
<span id="208">208</span>
<span id="209">209</span>
<span id="210">210</span>
<span id="211">211</span>
<span id="212">212</span>
<span id="213">213</span>
<span id="214">214</span>
<span id="215">215</span>
<span id="216">216</span>
<span id="217">217</span>
<span id="218">218</span>
<span id="219">219</span>
<span id="220">220</span>
<span id="221">221</span>
<span id="222">222</span>
<span id="223">223</span>
<span id="224">224</span>
<span id="225">225</span>
<span id="226">226</span>
<span id="227">227</span>
<span id="228">228</span>
<span id="229">229</span>
<span id="230">230</span>
<span id="231">231</span>
<span id="232">232</span>
<span id="233">233</span>
<span id="234">234</span>
</pre><div class="example-wrap"><pre class="rust "><span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">proc_macro</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">proc_macro2</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">proc_macro_hack</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">quote</span>;
<span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">syn</span>;

<span class="kw">use</span> <span class="ident">proc_macro</span>::<span class="ident">TokenStream</span>;
<span class="kw">use</span> <span class="ident">proc_macro2</span>::<span class="ident">Span</span>;
<span class="kw">use</span> <span class="ident">proc_macro_hack</span>::<span class="ident">proc_macro_hack</span>;
<span class="kw">use</span> <span class="ident">quote</span>::<span class="ident">quote</span>;

<span class="kw">use</span> <span class="ident">syn</span>::<span class="kw-2">*</span>;

<span class="attribute">#[<span class="ident">proc_macro_hack</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">routes</span>(<span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="kw">use</span> <span class="ident">syn</span>::<span class="ident">parse</span>::<span class="ident">Parser</span>;

    <span class="kw">let</span> <span class="ident">paths</span> <span class="op">=</span> <span class="op">&lt;</span><span class="ident">punctuated</span>::<span class="ident">Punctuated</span><span class="op">&lt;</span><span class="ident">Path</span>, <span class="ident">token</span>::<span class="ident">Comma</span><span class="op">&gt;</span><span class="op">&gt;</span>::<span class="ident">parse_terminated</span>.<span class="ident">parse</span>(<span class="ident">item</span>).<span class="ident">unwrap</span>();

    <span class="kw">let</span> <span class="ident">parts</span> <span class="op">=</span> <span class="ident">paths</span>
        .<span class="ident">iter</span>()
        .<span class="ident">map</span>(<span class="op">|</span><span class="ident">path</span><span class="op">|</span> {
            <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fn_name_path</span> <span class="op">=</span> <span class="ident">path</span>.<span class="ident">clone</span>();
            {
                <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">last_seg</span> <span class="op">=</span> <span class="ident">fn_name_path</span>.<span class="ident">segments</span>.<span class="ident">last_mut</span>().<span class="ident">unwrap</span>();
                <span class="ident">last_seg</span>.<span class="ident">value_mut</span>().<span class="ident">ident</span> <span class="op">=</span> <span class="ident">Ident</span>::<span class="ident">new</span>(
                    <span class="kw-2">&amp;</span><span class="macro">format</span><span class="macro">!</span>(
                        <span class="string">"RESET_ROUTER_ROUTE_PARTS_FOR_{}"</span>,
                        <span class="ident">last_seg</span>.<span class="ident">value</span>().<span class="ident">ident</span>.<span class="ident">to_string</span>().<span class="ident">trim_start_matches</span>(<span class="string">"r#"</span>).<span class="ident">to_owned</span>()
                    ),
                    <span class="ident">Span</span>::<span class="ident">call_site</span>(),
                );
            }
            <span class="kw">let</span> <span class="ident">fn_name_path</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="ident">fn_name_path</span>;
            <span class="macro">quote</span><span class="macro">!</span>({
                <span class="kw">let</span> (<span class="ident">method</span>, <span class="ident">regex</span>, <span class="ident">priority</span>) <span class="op">=</span> #<span class="ident">fn_name_path</span>();
                (<span class="ident">method</span>, <span class="ident">regex</span>, <span class="ident">priority</span>, #<span class="ident">path</span>.<span class="ident">into</span>())
            })
        })
        .<span class="ident">collect</span>::<span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span><span class="op">&gt;</span>();

    <span class="kw">let</span> <span class="ident">out</span> <span class="op">=</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="macro">vec</span><span class="macro">!</span>[#(#<span class="ident">parts</span>),<span class="kw-2">*</span>]);

    <span class="ident">out</span>.<span class="ident">into</span>()
}

<span class="doccomment">/// Use like `#[options("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[options("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">options</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"OPTIONS"</span>)
}

<span class="doccomment">/// Use like `#[get("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[get("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">get</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"GET"</span>)
}

<span class="doccomment">/// Use like `#[post("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[post("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">post</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"POST"</span>)
}

<span class="doccomment">/// Use like `#[put("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[put("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">put</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"PUT"</span>)
}

<span class="doccomment">/// Use like `#[delete("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[delete("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">delete</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"DELETE"</span>)
}

<span class="doccomment">/// Use like `#[head("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[head("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">head</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"HEAD"</span>)
}

<span class="doccomment">/// Use like `#[trace("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[trace("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">trace</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"TRACE"</span>)
}

<span class="doccomment">/// Use like `#[connect("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[connect("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">connect</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"CONNECT"</span>)
}

<span class="doccomment">/// Use like `#[patch("/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[patch("/path", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">patch</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="ident">named_route</span>(<span class="ident">attrs</span>, <span class="ident">item</span>, <span class="string">"PATCH"</span>)
}

<span class="doccomment">/// Use like `#[route(path="/path")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include comma separated HTTP methods to match , e.g.: `#[route(path="/path", methods="GET, POST")]`</span>
<span class="doccomment">///</span>
<span class="doccomment">/// Optionally include priority, e.g.: `#[route(path="/path", methods="GET, POST", priority=1)]`</span>
<span class="attribute">#[<span class="ident">proc_macro_attribute</span>]</span>
<span class="kw">pub</span> <span class="kw">fn</span> <span class="ident">route</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="kw">let</span> <span class="ident">attrs</span> <span class="op">=</span> <span class="macro">parse_macro_input</span><span class="macro">!</span>(<span class="ident">attrs</span> <span class="kw">as</span> <span class="ident">AttributeArgs</span>);
    <span class="ident">route_inner</span>(<span class="ident">attrs</span>, <span class="ident">item</span>)
}

<span class="kw">fn</span> <span class="ident">named_route</span>(<span class="ident">attrs</span>: <span class="ident">TokenStream</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>, <span class="ident">method</span>: <span class="kw-2">&amp;</span><span class="ident">str</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="kw">let</span> <span class="ident">attrs</span> <span class="op">=</span> <span class="macro">parse_macro_input</span><span class="macro">!</span>(<span class="ident">attrs</span> <span class="kw">as</span> <span class="ident">AttributeArgs</span>);
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">new_attrs</span> <span class="op">=</span> <span class="ident">Vec</span>::<span class="ident">with_capacity</span>(<span class="ident">attrs</span>.<span class="ident">len</span>());
    <span class="kw">for</span> <span class="ident">attr</span> <span class="kw">in</span> <span class="ident">attrs</span>.<span class="ident">into_iter</span>() {
        <span class="kw">if</span> <span class="kw">let</span> <span class="ident">NestedMeta</span>::<span class="ident">Literal</span>(<span class="kw-2">ref</span> <span class="ident">lit</span>) <span class="op">=</span> <span class="ident">attr</span> {
            <span class="ident">new_attrs</span>.<span class="ident">push</span>(<span class="ident">NestedMeta</span>::<span class="ident">Meta</span>(<span class="ident">Meta</span>::<span class="ident">NameValue</span>(<span class="macro">parse_quote</span><span class="macro">!</span>(<span class="ident">path</span><span class="op">=</span>#<span class="ident">lit</span>))));
        } <span class="kw">else</span> {
            <span class="ident">new_attrs</span>.<span class="ident">push</span>(<span class="ident">attr</span>);
        }
    }
    <span class="ident">new_attrs</span>.<span class="ident">push</span>(<span class="ident">NestedMeta</span>::<span class="ident">Meta</span>(<span class="ident">Meta</span>::<span class="ident">NameValue</span>(<span class="macro">parse_quote</span><span class="macro">!</span>(<span class="ident">methods</span><span class="op">=</span>#<span class="ident">method</span>))));
    <span class="ident">route_inner</span>(<span class="ident">new_attrs</span>, <span class="ident">item</span>)
}

<span class="kw">fn</span> <span class="ident">route_inner</span>(<span class="ident">attrs</span>: <span class="ident">AttributeArgs</span>, <span class="ident">item</span>: <span class="ident">TokenStream</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">TokenStream</span> {
    <span class="kw">let</span> <span class="ident">item</span> <span class="op">=</span> <span class="macro">parse_macro_input</span><span class="macro">!</span>(<span class="ident">item</span> <span class="kw">as</span> <span class="ident">ItemFn</span>);

    <span class="kw">let</span> <span class="ident">params</span> <span class="op">=</span> <span class="ident">attrs</span>
        .<span class="ident">iter</span>()
        .<span class="ident">filter_map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw">match</span> <span class="ident">x</span> {
            <span class="ident">NestedMeta</span>::<span class="ident">Meta</span>(<span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>),
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">None</span>,
        })
        .<span class="ident">filter_map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw">match</span> <span class="ident">x</span> {
            <span class="ident">Meta</span>::<span class="ident">NameValue</span>(<span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>),
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">None</span>,
        });

    <span class="kw">let</span> <span class="ident">regex_str</span> <span class="op">=</span> <span class="ident">params</span>
        .<span class="ident">clone</span>()
        .<span class="ident">find</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">ident</span> <span class="op">=</span><span class="op">=</span> <span class="string">"path"</span>)
        .<span class="ident">and_then</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw">match</span> <span class="ident">x</span>.<span class="ident">lit</span> {
            <span class="ident">Lit</span>::<span class="ident">Str</span>(<span class="kw-2">ref</span> <span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>),
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">None</span>,
        })
        .<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">value</span>())
        .<span class="ident">expect</span>(<span class="string">"No path provided"</span>);

    <span class="kw">let</span> <span class="ident">methods_str</span> <span class="op">=</span> <span class="ident">params</span>
        .<span class="ident">clone</span>()
        .<span class="ident">find</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">ident</span> <span class="op">=</span><span class="op">=</span> <span class="string">"methods"</span>)
        .<span class="ident">and_then</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw">match</span> <span class="ident">x</span>.<span class="ident">lit</span> {
            <span class="ident">Lit</span>::<span class="ident">Str</span>(<span class="kw-2">ref</span> <span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>),
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">None</span>,
        })
        .<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">value</span>())
        .<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="op">|</span> <span class="string">""</span>.<span class="ident">into</span>());

    <span class="kw">let</span> <span class="ident">priority_int</span> <span class="op">=</span> <span class="ident">params</span>
        .<span class="ident">clone</span>()
        .<span class="ident">find</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">ident</span> <span class="op">=</span><span class="op">=</span> <span class="string">"priority"</span>)
        .<span class="ident">and_then</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="kw">match</span> <span class="ident">x</span>.<span class="ident">lit</span> {
            <span class="ident">Lit</span>::<span class="ident">Int</span>(<span class="kw-2">ref</span> <span class="ident">y</span>) <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Some</span>(<span class="ident">y</span>),
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">None</span>,
        })
        .<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">value</span>() <span class="kw">as</span> <span class="ident">u8</span>)
        .<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="op">|</span> <span class="number">0</span>);

    <span class="kw">let</span> <span class="ident">method_bits</span> <span class="op">=</span> {
        <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">method_iter</span> <span class="op">=</span> <span class="ident">methods_str</span>.<span class="ident">split</span>(<span class="string">','</span>).<span class="ident">map</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">x</span>.<span class="ident">trim</span>().<span class="ident">to_lowercase</span>());

        <span class="kw">let</span> <span class="ident">cls</span> <span class="op">=</span> <span class="op">|</span><span class="ident">s</span>: <span class="kw-2">&amp;</span><span class="ident">str</span><span class="op">|</span> <span class="kw">match</span> <span class="ident">s</span> {
            <span class="string">"options"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">OPTIONS</span>),
            <span class="string">"get"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">GET</span>),
            <span class="string">"post"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">POST</span>),
            <span class="string">"put"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">PUT</span>),
            <span class="string">"delete"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">DELETE</span>),
            <span class="string">"head"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">HEAD</span>),
            <span class="string">"trace"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">TRACE</span>),
            <span class="string">"connect"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">CONNECT</span>),
            <span class="string">"patch"</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">PATCH</span>),
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">panic</span><span class="macro">!</span>(<span class="string">"Unknown method parameter"</span>),
        };

        <span class="kw">let</span> <span class="ident">first</span> <span class="op">=</span> <span class="ident">method_iter</span>.<span class="ident">next</span>();

        <span class="kw">match</span> <span class="ident">first</span> {
            <span class="prelude-val">Some</span>(<span class="ident">m</span>) <span class="op">=</span><span class="op">&gt;</span> {
                <span class="kw">let</span> <span class="ident">base</span> <span class="op">=</span> <span class="ident">cls</span>(<span class="kw-2">&amp;</span><span class="ident">m</span>);
                <span class="ident">method_iter</span>.<span class="ident">fold</span>(<span class="ident">base</span>, <span class="op">|</span><span class="ident">acc</span>, <span class="ident">val</span><span class="op">|</span> {
                    <span class="kw">let</span> <span class="ident">val</span> <span class="op">=</span> <span class="ident">cls</span>(<span class="kw-2">&amp;</span><span class="ident">val</span>);
                    <span class="macro">quote</span><span class="macro">!</span>(#<span class="ident">acc</span> <span class="op">|</span> #<span class="ident">val</span>)
                })
            }
            <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">quote</span><span class="macro">!</span>(<span class="ident">reset_router</span>::<span class="ident">bits</span>::<span class="ident">Method</span>::<span class="ident">all</span>()),
        }
    };

    <span class="kw">let</span> <span class="ident">fn_name</span> <span class="op">=</span> <span class="ident">Ident</span>::<span class="ident">new</span>(
        <span class="kw-2">&amp;</span><span class="macro">format</span><span class="macro">!</span>(
            <span class="string">"RESET_ROUTER_ROUTE_PARTS_FOR_{}"</span>,
            <span class="ident">item</span>.<span class="ident">ident</span>.<span class="ident">to_string</span>().<span class="ident">trim_start_matches</span>(<span class="string">"r#"</span>).<span class="ident">to_owned</span>()
        ),
        <span class="ident">Span</span>::<span class="ident">call_site</span>(),
    );

    <span class="kw">let</span> <span class="ident">out</span> <span class="op">=</span> <span class="macro">quote</span><span class="macro">!</span> {
        #<span class="ident">item</span>
        <span class="kw">pub</span> <span class="kw">fn</span> #<span class="ident">fn_name</span>() <span class="op">-</span><span class="op">&gt;</span> (<span class="ident">u32</span>, <span class="kw-2">&amp;</span><span class="lifetime">'static</span> <span class="ident">str</span>, <span class="ident">u8</span>) {
            ((#<span class="ident">method_bits</span>).<span class="ident">bits</span>(), #<span class="ident">regex_str</span>, #<span class="ident">priority_int</span>)
        }
    };

    <span class="ident">out</span>.<span class="ident">into</span>()
}
</pre></div>
</section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>⏎</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g., <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g., <code>vec -&gt; usize</code> or <code>* -&gt; vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g., <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "reset_router_macros";</script><script src="./lib.rs.html -- source_files/aliases-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script><script src="./lib.rs.html -- source_files/main-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script><script src="./lib.rs.html -- source_files/source-script-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script><script src="./lib.rs.html -- source_files/source-files-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script><script defer="" src="./lib.rs.html -- source_files/search-index-20190911-1.39.0-nightly-f0b58fcf0.js.下载"></script></div></body></html>